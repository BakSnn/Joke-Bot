<!-- index.html -->

<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jokes App</title>
</head>
<body>

<h1>Jokes List</h1>

<ul id="jokesList"></ul>

<button onclick="getAllJokes()">Get Jokes</button>
<button onclick="addNewJoke()">Add New Joke</button>

<script>
    function getAllJokes() {
    fetch('http://localhost:8080/api/jokes')
        .then(response => response.json())
        .then(data => {
            const jokesList = document.getElementById('jokesList');
            jokesList.innerHTML = '';
            data.forEach(joke => {
                const listItem = document.createElement('li');
                listItem.textContent = joke.joke;
                jokesList.appendChild(listItem);
            });
        })
        .catch(error => console.error('Error fetching jokes:', error));
}

    function addNewJoke() {
    const newJoke = {
    // Your joke object properties here
    joke: 'New Joke Text',
};

    fetch('http://localhost:8080/api/jokes', {
    method: 'POST',
    headers: {
    'Content-Type': 'application/json',
},
    body: JSON.stringify(newJoke),
})
    .then(response => response.json())
    .then(data => {
    console.log('New joke added:', data);
    getAllJokes(); // Refresh the list after adding a new joke
})
    .catch(error => console.error('Error adding new joke:', error));
}
</script>

</body>
</html>
